---
sort: 1
---

# Kotlin In Action - Chapter_1 코틀린이란 무엇이며, 왜 필요한가?

## 1.2 코틀린의 주요 특성

### 1.2.1 사용처

서버 안드로이드가 실행되는 모든 곳.

일반적인 곳은 서버상의 코드(백엔드!)와 안드로이드 디바이스에서 실행되는 모바일 애플리케이션

### 1.2.2 정적 타입 지정 언어

자바와 마찬가지로, 모든 구성요소의 타입을 컴파일 시점에 알 수 있다. 필드나 메소드를 사용할 때마다 컴파일러가 타입을 검증해준다는 뜻이다. 동적언어에서는 타입과 관계없이 모든 값을 변수에 넣을 수 있다. 실행 시점에 검증이 일어난다. 정적인데도 코틀린은 타입 선언을 생략해도 된다.

타입 시스템 중 중요한 것은 Nullable 타입의 지원. NullPointerException이 발생할 수 있는지 검사할 수 있다.

확실히, 안드로이드 건드리다 보니 자주 나왔던 에러였다.

### 1.2.3 함수형 프로그래밍 & 객체지향 프로그래밍

함수형 프로그래밍의 핵심 개념은 다음과 같다.

first-class 함수 : 함수를 변수에 저장할 수 있고, 함수를 인자로 다른 함수에 전달할 수 있다. 함수에서 새로운 함수를 만들어서 반환할 수도 있다.

Immutability : 일단 만들어지면 내부 상태가 불변인 객체를 사용해 프로그램을 작성한다고 하는데, 그럼 val 만 쓰는 건가 해서 더 찾아봤다.

https://medium.com/@xabaras/kotlin-val-is-read-only-not-immutable-585ce2e5359b

val이랑 immutable은 또 달랐다. 그냥  전부 다 (프로퍼티들) val로 바꾼다는 가정 하에 immutability가 된다는 것으로 이해를 하면 될 것 같다. 그러면 내부가 불변이니까..?

side-effect 없음 : 입력이 같으면 항상 출력이 같아야하고, 다른 객체의 상태를 변경하지 않으며, 다른 바깥 환경과 상호작용하지 않는 순수 함수 pure function을 사용한다.

이러한 함수형 프로그래밍의 장점은?

첫 째, 간결성이 있다. 순수 함수를 값처럼 활용할 수 있다면, 더 강력한 추상화를 할 수 있다. 그런 추상화를 통해 코드 중복을 막을 수 있다. 비슷한 두 코드가 있을 때

두 번째, 다중 스레드를 사용해도 안전하다. 같은 데이터를 여러 스레드가 변경할 수 없으니 당연할지도 모른다.

세 번째, 테스트하기 쉽다. 독립적으로 테스트 할 수 있으니까.

일반적으로 모든 언어에서 가능하지만, 모든 언어가 편하게 사용하기에 충분한 라이브러리와 문법을 제공하지는 않는데, 코틀린은 지원한다.

첫 째, 함수 타입을 지원함으로써, 다른 함수를 파라미터로 받거나 반환할 수 있다.

둘 째, 람다를 지원한다. 쉽게 준비 할 수 있다.

셋 째, 데이터 클래스는 불변적인 값 객체를 간편하게 만들 수 있는 구문을 제공한다.

넷 째, 객체와 컬렉션을 함수형 스타일로 다룰 수 있는 API를 제공한다.

그래도 꼭 써야하는건 아니고, 객체지향과 함수형을 함께 조합하여 가장 적합한 도구를 사용하면 된다.

### 1.2.4 무료 오픈소스

라이브러리, 컴파일러 등 모두 오픈소스이다. 개발은 github을 통해 이루어지고 있다.

## 1.3 코틀린 응용

### 1.3.1 코틀린 서버 프로그래밍

웹 애플리케이션, 백엔드 애플리케이션, RPC원격 프로시저 호출 프로토콜을 통해 마이크로 서비스 등을 지금까지 개발자들이 자바로 엄청나게 만들어왔는데, 그런 애플리케이션을 밑바닥부터 개발하는 경우는 없다. 

언제나 기존 프레임워크나 기술을 확장하고 개선하거나 대치한다.

 그런 환경에서 자바와 통합되는 코틀린은 큰 장점을 가진다고 할 수 있다. 
 
 자바를 코틀린으로 확장해도 문제가 없고, 코틀린 클래스 안에 애노테이션을 붙이는 경우도 문제가 없다. 
 
 또 여러 기술을 통해 서버 시스템을 개발할 수 있다. 

### 1.3.2 코틀린 안드로이드 프로그래밍

사실 현재 내 주 목적. 생산성을 높이고, 개발의 즐거움을 더할 수 있단다. 

코틀린 팀이 개발한 안코 라이브러리를 사용하면 코틀린 어댑터를 제공 받을 수 있다고 한다. - 찾아보니 이거 deprecated 이제 되었다..!

성능 측면에서도 문제가 없다. 

또한 대부분의 코틀린 표준 라이브러리 함수는 람다 함수를 Inlining 해서 객체 증가로 인해 가비지 컬렉션이 늘어 프로그램이 멈추는 일도 없다.

## 1.4 코틀린의 철학

### 1.4.1 실용성

실제 문제를 해결하기 위해 만든 실용적인 언어이다. 

대규모 시스템을 개발해 본 다년간의 IT업계 경험을 바탕으로 이뤄졌고, 주의 깊게 언어 특성을 선택했다. 

연구를 위한 언어가 아닌, 다른 프로그래밍 언어가 이미 채택해서 이미 성공적으로 검증된 해법과 기능에 의존한다. 알고 있는 개념을 통해 더 쉽게 배울수도 있다는 것이다.

특정 프로그래밍 스타일이나 패러다임을 사용할 것을 강제하지도 않는다. 코틀린의 경우 컴파일러와 맞물려 있으므로 도구의 사용을 염두에 둔 언어라고도 할 수 있다.

### 1.4.2 간결성

코드가 더 간단하고 간결할 수록 내용을 파악하기 쉽다. 의도를 쉽게 파악하며 준비코드가 적다. 지저분해질 일이 없다.람다를 지원하기 때문에 작은 코드 블록을 라이브러리 함수에 쉽게 전달할 수 있다. 그러나 가능한 짧게 만든다는건 아니다. 연산자 오버로딩을 지원하지만, 언어가 제공하지 않는 연산자를 프로그래머가 정의할 수 있게 허용하지 않는다는 것이 그 예다.

### 1.4.3 안전성

일반적으로 프로그래밍 언어가 안전하다는 것은 프로그램에서 발생할 수 있는 오류중에 일부를 원천 방지해준다는 것인데, 모든 언어가 모든 오류를 막을 순 없다. 더 큰 안정성을 얻기 위해선 더 많은 정보를 덧붙여야 하고 생산성은 당연히 트레이드오프된다. JVM에서 메모리 안정성을 보장해주고, 정적 타입 지정언어지만 타입 추론이 가능함으로써 적은 비용으로 타입 안정성이 보장된다. 널 포인터 익셉션을 없앤것도 있고, ClassCastException도 있다. 

### 1.4.4 상호운용성

사실상 마음대로 섞어 사용할 수 있다. 다른 방향으로는 기존 자바 라이브러리를 가능하면 최대한 활용한다는 점이 있다. 

## 1.5 코틀린 도구 사용

### 1.5.1 코틀린 코드 컴파일

.kt 확장자를 붙인다. 코틀린으로 컴파일한 애플리케이션을 배포할 때는 런타임 라이브러리도 함께 배포해야한다. 여기엔 코틀린 자체 표준 라이브러리 클래스와 확장한 자바 api기능이 있다. gradle은 자동 포함시켜준다.

### 1.5.2 안드로이드 스튜디오의 코틀린 플러그인

안드로이드에서 설정 - 플러그인 - 젯브레인스 플러그인 설치 - 코틀린 설치하면 된다.

### 1.5.6 자바 코틀린 변환기

코틀린 문법을 까먹을 때 써봄직한? 녀석이다.

​

​